{"version":3,"sources":["components/shop-header/index.js","components/shop-header/shop-header.js","components/book-list-item/index.js","components/book-list-item/book-list-item.js","components/bookstore-service-context/bookstore-service-context.js","components/hoc/with-bookstore-service.js","utils/compose.js","components/spinner/index.js","components/spinner/spinner.js","components/error-indicator/index.js","components/error-indicator/error-indicator.js","components/book-list/book-list.js","actions/index.js","components/shopping-cart-table/shopping-cart-table.js","components/pages/home-page.js","components/pages/cart-page.js","components/app/index.js","components/app/app.js","components/error-boundry/index.js","components/error-boundry/error-boundry.js","services/bookstore-service.js","reducers/index.js","store.js","index.js"],"names":["ShopHeader","numItems","total","className","to","BookListItem","book","title","author","price","coverImage","src","alt","href","React","createContext","BookstoreServiceProvider","Provider","BookstoreServiceConsumer","Consumer","withBookstoreService","Wrapped","props","bookstoreService","compose","funcs","comp","reduceRight","prev","func","Spinner","ErrorIndicator","BookList","this","booksLoaded","booksRequested","booksError","getBooks","then","data","catch","err","books","loading","error","map","key","id","Component","mapDispatchToProps","newBooks","type","payload","connect","ShoppingCartTable","HomePage","CartPage","App","role","path","component","exact","ErrorBoundry","state","hasError","setState","children","BookstoreService","Promise","resolve","reject","setTimeout","Math","random","Error","initialState","reducer","action","store","createStore","ReactDOM","render","value","document","getElementById"],"mappings":"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","file":"static/js/main.a64e4269.chunk.js","sourcesContent":["import ShopHeader from './shop-header';\r\n\r\nexport default ShopHeader;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './shop-header.css';\r\n\r\nconst ShopHeader = ({ numItems, total }) => {\r\n\r\n    return (\r\n        <header className=\"shop-header row\">\r\n            <Link className=\"logo text-dark\" to=\"/re-store\">ReStore</Link>\r\n            <Link className=\"shopping-cart\" to=\"/re-store/cart\">\r\n                <i className=\"cart-icon fa fa-shopping-cart\" />\r\n                {numItems} items (${total})\r\n            </Link>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default ShopHeader;","import BookListItem from './book-list-item';\r\n\r\nexport default BookListItem;","import React from 'react';\r\n\r\nimport './book-list-item.css';\r\n\r\nconst BookListItem = ({ book }) => {\r\n    const { title, author, price, coverImage } = book;\r\n    return (\r\n        <div className=\"book-list-item\">\r\n            <div className=\"book-cover\">\r\n                <img src={coverImage} alt=\"cover\" />\r\n            </div>\r\n            <div className=\"book-details\">\r\n                <span href=\"#\" className=\"book-title\">{title}</span>\r\n                <div className=\"book-author\">{author}</div>\r\n                <div className=\"book-price\">{price}</div>\r\n                <button className=\"btn btn-info add-to-cart\">Add to cart</button>\r\n            </div>\r\n           \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BookListItem;","import React from 'react';\r\n\r\nconst {\r\n    Provider: BookstoreServiceProvider,\r\n    Consumer: BookstoreServiceConsumer\r\n} = React.createContext();\r\n\r\nexport {\r\n    BookstoreServiceProvider,\r\n    BookstoreServiceConsumer,\r\n}","import React from 'react';\r\nimport { BookstoreServiceConsumer } from '../bookstore-service-context';\r\n\r\nconst withBookstoreService = () => (Wrapped) => {\r\n\r\n    return (props) => {\r\n\r\n        return (\r\n            <BookstoreServiceConsumer>\r\n                {\r\n                    (bookstoreService) => {\r\n                        return (<Wrapped {...props}\r\n                                    bookstoreService={bookstoreService} />)\r\n                    }\r\n                }\r\n            </BookstoreServiceConsumer>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withBookstoreService;","const compose = (...funcs) => (comp) => {\r\n    return funcs.reduceRight((prev, func) => func(prev), comp)\r\n}\r\n\r\nexport default compose;","import Spinner from './spinner';\r\n\r\nexport default Spinner;","import React from 'react';\r\n\r\nimport './spinner.css';\r\n\r\nconst Spinner = () => {\r\n    return <div>loading...</div>\r\n}\r\n\r\nexport default Spinner;","import ErrorIndicator from './error-indicator';\r\n\r\nexport default ErrorIndicator;","import React from 'react';\r\n\r\nimport './error-indicator.css';\r\n\r\nconst ErrorIndicator = () => {\r\n    return <div>Oops! Something went wrong. Please reload the page and try again.</div>\r\n}\r\n\r\nexport default ErrorIndicator;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport BookListItem from '../book-list-item';\r\nimport { withBookstoreService } from '../hoc';\r\nimport { booksLoaded, booksRequested, booksError } from '../../actions';\r\nimport { compose } from '../../utils';\r\nimport Spinner from '../spinner';\r\nimport ErrorIndicator from '../error-indicator';\r\n\r\nimport './book-list.css';\r\n\r\nclass BookList extends Component {\r\n\r\n    componentDidMount() {\r\n        // 1. receive data from service;\r\n        const { \r\n            bookstoreService,\r\n            booksLoaded,\r\n            booksRequested,\r\n            booksError } = this.props;\r\n        booksRequested();\r\n        bookstoreService.getBooks()\r\n            .then(data => {\r\n                // 2. dispatch action to store\r\n                booksLoaded(data)\r\n            })\r\n            .catch(err => booksError(err));\r\n    }\r\n\r\n    render() {\r\n        const { books, loading, error } = this.props;\r\n        if (loading) {\r\n            return <Spinner />\r\n        }\r\n\r\n        if (error) {\r\n            return <ErrorIndicator />\r\n        }\r\n\r\n        return (\r\n            <ul className=\"book-list\">\r\n                {\r\n                    books.map(book => {\r\n                        return <li key={book.id}><BookListItem book={book} /></li>\r\n                    })\r\n                }\r\n            </ul>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = ({ books, loading, error }) => {\r\n    return {\r\n        books,\r\n        loading,\r\n        error,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    booksLoaded,\r\n    booksRequested,\r\n    booksError,\r\n}\r\n\r\nexport default compose(\r\n    withBookstoreService(),\r\n    connect(mapStateToProps, mapDispatchToProps)\r\n)\r\n(BookList)","export const booksLoaded = (newBooks) => {\r\n\r\n    return {\r\n        type: 'BOOKS_LOADED',\r\n        payload: newBooks,\r\n    }\r\n}\r\n\r\nexport const booksRequested = () => {\r\n    \r\n    return {\r\n        type: 'BOOKS_REQUESTED',\r\n    }\r\n}\r\n\r\nexport const booksError = (error) => {\r\n    return {\r\n        type: 'BOOKS_ERROR',\r\n        payload: error,\r\n    }\r\n}","import React from 'react';\r\n\r\nimport './shopping-cart-table.css';\r\n\r\nconst ShoppingCartTable = () => {\r\n\r\n    return (\r\n        <div className=\"shopping-cart-table\">\r\n            <h2>Your Order</h2>\r\n            <table className=\"table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>#</th>\r\n                        <th>Item</th>\r\n                        <th>Count</th>\r\n                        <th>Price</th>\r\n                        <th>Action</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr>\r\n                        <td>1</td>\r\n                        <td>Site Reliability Engineering</td>\r\n                        <td>2</td>\r\n                        <td>$40</td>\r\n                        <td>\r\n                            <button className=\"btn btn-outline-danger btn-sm float-right\">\r\n                                <i className=\"fa fa-trash-o\" />\r\n                            </button>\r\n                            <button className=\"btn btn-outline-success btn-sm float-right\">\r\n                                <i className=\"fa fa-plus-circle\" />\r\n                            </button>\r\n                            <button className=\"btn btn-outline-warning btn-sm float-right\">\r\n                                <i className=\"fa fa-minus-circle\" />\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n\r\n            <div className=\"total\">\r\n                Total: $201\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ShoppingCartTable;","import React from 'react';\r\nimport BookList from '../book-list/book-list';\r\nimport ShoppingCartTable from '../shopping-cart-table/shopping-cart-table';\r\n\r\nconst HomePage = () => {\r\n\r\n    return (\r\n        <div>\r\n            <BookList />\r\n            <ShoppingCartTable />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default HomePage;","import React from 'react';\r\n\r\nconst CartPage = () => {\r\n    return <div>Cart Page</div>\r\n}\r\n\r\nexport default CartPage;","import App from './app';\r\n\r\nexport default App;","import React from 'react';\r\nimport ShopHeader from '../shop-header';\r\nimport { Route, Switch } from 'react-router-dom';\r\n\r\nimport { HomePage, CartPage } from '../pages';\r\n\r\nimport './app.css';\r\n\r\nconst App = () => {\r\n\r\n    return (\r\n        <main role=\"main\" className=\"container\">\r\n            <ShopHeader numItems={5} total={210} />\r\n            <Switch>\r\n                <Route path='/re-store/'\r\n                    component={HomePage}\r\n                    exact />\r\n                <Route path='/re-store/cart'\r\n                    component={CartPage} />\r\n            </Switch>\r\n        </main>\r\n      \r\n    )\r\n}\r\n\r\nexport default App;","import ErrorBoundry from './error-boundry';\r\n\r\nexport default ErrorBoundry;","import React, { Component } from 'react';\r\n\r\nimport ErrorIndicator from '../error-indicator';\r\n\r\nexport default class ErrorBoundry extends Component {\r\n\r\n    state = {\r\n        hasError: false,\r\n    }\r\n\r\n    componentDidCatch() {\r\n        this.setState({hasError: true})\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.state.hasError) {\r\n            return <ErrorIndicator />\r\n        }\r\n\r\n        return this.props.children;\r\n    }\r\n}","export default class BookstoreService {\r\n\r\n    data = [\r\n        {\r\n            id: 1,\r\n            title: 'Prodaction-Ready Microservices',\r\n            author: 'Susan J. Fowler',\r\n            price: 32,\r\n            coverImage: 'https://images-na.ssl-images-amazon.com/images/I/41yJ75gpV-L._SX381_BO1,204,203,200_.jpg',\r\n        },\r\n        {\r\n            id: 2,\r\n            title: 'Release it!',\r\n            author: 'Michael T. Nygard',\r\n            price: 45,\r\n            coverImage: 'https://images-na.ssl-images-amazon.com/images/I/414CRjLjwgL._SX403_BO1,204,203,200_.jpg'\r\n        }\r\n    ]\r\n\r\n    getBooks() {\r\n        return new Promise((resolve, reject) => {\r\n            setTimeout(() => {\r\n                if (Math.random() > .75) {\r\n                    reject(new Error('Something bad happened'))\r\n                } else {\r\n                    resolve(this.data)\r\n                }\r\n\r\n               \r\n            }, 900)\r\n        })\r\n    }\r\n}","const initialState = {\r\n    books: [],\r\n    loading: true,\r\n    error: false,\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n\r\n    switch(action.type) {\r\n        case 'BOOKS_LOADED':\r\n            return {\r\n                books: action.payload,\r\n                loading: false,\r\n                error: false,\r\n            }\r\n        case 'BOOKS_REQUESTED':\r\n            return {\r\n                books: [],\r\n                loading: true,\r\n                error: false,\r\n            }\r\n        case \"BOOKS_ERROR\":\r\n            return {\r\n                books: [],\r\n                loading: false,\r\n                error: action.payload,\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default reducer;","import { createStore } from 'redux';\r\nimport reducer from './reducers';\r\n\r\nconst store = createStore(reducer);\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\n\r\nimport App from './components/app';\r\nimport ErrorBoundry from './components/error-boundry';\r\nimport { BookstoreServiceProvider } from './components/bookstore-service-context';\r\nimport { BookstoreService } from './services';\r\n\r\nimport store from './store';\r\n\r\nconst bookstoreService = new BookstoreService();\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <ErrorBoundry>\r\n            <BookstoreServiceProvider value={bookstoreService}>\r\n                <Router>\r\n                    <App />\r\n                </Router>\r\n            </BookstoreServiceProvider>\r\n        </ErrorBoundry>\r\n    </Provider>,\r\n    document.getElementById('root')\r\n)"],"sourceRoot":""}