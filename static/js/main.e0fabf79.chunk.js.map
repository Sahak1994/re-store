{"version":3,"sources":["components/shop-header/index.js","components/shop-header/shop-header.js","components/book-list-item/index.js","components/book-list-item/book-list-item.js","components/bookstore-service-context/bookstore-service-context.js","components/hoc/with-bookstore-service.js","utils/compose.js","components/book-list/book-list.js","actions/index.js","components/shopping-cart-table/shopping-cart-table.js","components/pages/home-page.js","components/pages/cart-page.js","components/app/index.js","components/app/app.js","components/error-indicator/index.js","components/error-indicator/error-indicator.js","components/error-boundry/index.js","components/error-boundry/error-boundry.js","services/bookstore-service.js","reducers/index.js","store.js","index.js"],"names":["ShopHeader","numItems","total","className","href","BookListItem","book","title","author","price","coverImage","src","alt","React","createContext","BookstoreServiceProvider","Provider","BookstoreServiceConsumer","Consumer","withBookstoreService","Wrapped","props","bookstoreService","compose","funcs","comp","reduceRight","prev","func","BookList","data","this","getBooks","booksLoaded","books","map","key","id","Component","mapDispatchToProps","newBooks","type","payload","connect","state","ShoppingCartTable","HomePage","CartPage","App","role","path","component","exact","ErrorIndicator","ErrorBoundry","hasError","setState","children","BookstoreService","initialState","reducer","action","store","createStore","ReactDOM","render","value","document","getElementById"],"mappings":"yUAEeA,G,MCEI,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,SAAUC,EAAY,EAAZA,MAE5B,OACI,4BAAQC,UAAU,mBACd,uBAAGA,UAAU,iBAAiBC,KAAK,KAAnC,WACA,uBAAGD,UAAU,iBACT,uBAAGA,UAAU,kCACZF,EAFL,YAEwBC,EAFxB,Q,6CCPGG,G,MCEM,SAAC,GAAc,IAAZC,EAAW,EAAXA,KACZC,EAAqCD,EAArCC,MAAOC,EAA8BF,EAA9BE,OAAQC,EAAsBH,EAAtBG,MAAOC,EAAeJ,EAAfI,WAC9B,OACI,yBAAKP,UAAU,kBACX,yBAAKA,UAAU,cACX,yBAAKQ,IAAKD,EAAYE,IAAI,WAE9B,yBAAKT,UAAU,gBACX,uBAAGC,KAAK,IAAID,UAAU,cAAcI,GACpC,yBAAKJ,UAAU,eAAeK,GAC9B,yBAAKL,UAAU,cAAcM,GAC7B,4BAAQN,UAAU,4BAAlB,mB,ECVZU,IAAMC,gBAFIC,E,EAAVC,SACUC,E,EAAVC,SCgBWC,EAjBc,kBAAM,SAACC,GAEhC,OAAO,SAACC,GAEJ,OACI,kBAACJ,EAAD,MAEQ,SAACK,GACG,OAAQ,kBAACF,EAAD,iBAAaC,EAAb,CACIC,iBAAkBA,WCRvCC,EAJC,sCAAIC,EAAJ,yBAAIA,EAAJ,uBAAc,SAACC,GAC3B,OAAOD,EAAME,aAAY,SAACC,EAAMC,GAAP,OAAgBA,EAAKD,KAAOF,KCSnDI,G,kMAEkB,IAGVC,EADuBC,KAAKV,MAA1BC,iBACsBU,WAG9BD,KAAKV,MAAMY,YAAYH,K,+BAGjB,IACEI,EAAUH,KAAKV,MAAfa,MAER,OACI,wBAAI/B,UAAU,aAEN+B,EAAMC,KAAI,SAAA7B,GACN,OAAO,wBAAI8B,IAAK9B,EAAK+B,IAAI,kBAAC,EAAD,CAAc/B,KAAMA,a,GAlB9CgC,cAgCjBC,EAAqB,CACvBN,YC3CuB,SAACO,GAExB,MAAO,CACHC,KAAM,eACNC,QAASF,KD0CFjB,IACXJ,IACAwB,aAZoB,SAACC,GACrB,MAAO,CACHV,MAAOU,EAAMV,SAUQK,GAFdhB,CAIdM,GEPcgB,G,MAvCW,WAEtB,OACI,yBAAK1C,UAAU,uBACX,0CACA,2BAAOA,UAAU,SACb,+BACI,iCACA,oCACA,qCACA,qCACA,uCAEJ,+BACI,iCACA,4DACA,iCACA,mCACA,4BACI,4BAAQA,UAAU,6CACd,uBAAGA,UAAU,mBAEjB,4BAAQA,UAAU,8CACd,uBAAGA,UAAU,uBAEjB,4BAAQA,UAAU,8CACd,uBAAGA,UAAU,2BAM7B,yBAAKA,UAAU,SAAf,kBCtBG2C,EAVE,WAEb,OACI,6BACI,kBAAC,EAAD,MACA,kBAAC,EAAD,QCHGC,EAJE,WACb,OAAO,2CCDIC,G,MCMH,WAER,OACI,0BAAMC,KAAK,OAAO9C,UAAU,aACxB,kBAAC,EAAD,CAAYF,SAAU,EAAGC,MAAO,MAChC,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOgD,KAAK,aACRC,UAAWL,EACXM,OAAK,IACT,kBAAC,IAAD,CAAOF,KAAK,iBACRC,UAAWJ,QChBhBM,G,MCEQ,WACnB,OAAO,yCCHIC,E,2MCIXV,MAAQ,CACJW,UAAU,G,mFAIVxB,KAAKyB,SAAS,CAACD,UAAU,M,+BAKzB,OAAIxB,KAAKa,MAAMW,SACJ,kBAAC,EAAD,MAGJxB,KAAKV,MAAMoC,a,GAhBgBnB,aCJrBoB,E,mGAGb,MAAO,CACH,CACIrB,GAAI,EACJ9B,MAAO,iCACPC,OAAQ,kBACRC,MAAO,GACPC,WAAY,4FAEhB,CACI2B,GAAI,EACJ9B,MAAO,cACPC,OAAQ,oBACRC,MAAO,GACPC,WAAY,iG,aChBtBiD,EAAe,CACjBzB,MAAO,IAeI0B,EAZC,WAAmC,IAAlChB,EAAiC,uDAAzBe,EAAcE,EAAW,uCAE9C,OAAOA,EAAOpB,MACV,IAAK,eACD,MAAO,CACHP,MAAO2B,EAAOnB,SAEtB,QACI,OAAOE,ICPJkB,EAFDC,YAAYH,GCSpBtC,EAAmB,IAAIoC,EAE7BM,IAASC,OACL,kBAAC,IAAD,CAAUH,MAAOA,GACb,kBAAC,EAAD,KACI,kBAAC/C,EAAD,CAA0BmD,MAAO5C,GAC7B,kBAAC,IAAD,KACI,kBAAC,EAAD,UAKhB6C,SAASC,eAAe,W","file":"static/js/main.e0fabf79.chunk.js","sourcesContent":["import ShopHeader from './shop-header';\r\n\r\nexport default ShopHeader;","import React from 'react';\r\n\r\nimport './shop-header.css';\r\n\r\nconst ShopHeader = ({ numItems, total }) => {\r\n\r\n    return (\r\n        <header className=\"shop-header row\">\r\n            <a className=\"logo text-dark\" href=\"#\">ReStore</a>\r\n            <a className=\"shopping-cart\">\r\n                <i className=\"cart-icon fa fa-shopping-cart\" />\r\n                {numItems} items (${total})\r\n            </a>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default ShopHeader;","import BookListItem from './book-list-item';\r\n\r\nexport default BookListItem;","import React from 'react';\r\n\r\nimport './book-list-item.css';\r\n\r\nconst BookListItem = ({ book }) => {\r\n    const { title, author, price, coverImage } = book;\r\n    return (\r\n        <div className=\"book-list-item\">\r\n            <div className=\"book-cover\">\r\n                <img src={coverImage} alt=\"cover\" />\r\n            </div>\r\n            <div className=\"book-details\">\r\n                <a href=\"#\" className=\"book-title\">{title}</a>\r\n                <div className=\"book-author\">{author}</div>\r\n                <div className=\"book-price\">{price}</div>\r\n                <button className=\"btn btn-info add-to-cart\">Add to cart</button>\r\n            </div>\r\n           \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BookListItem;","import React from 'react';\r\n\r\nconst {\r\n    Provider: BookstoreServiceProvider,\r\n    Consumer: BookstoreServiceConsumer\r\n} = React.createContext();\r\n\r\nexport {\r\n    BookstoreServiceProvider,\r\n    BookstoreServiceConsumer,\r\n}","import React from 'react';\r\nimport { BookstoreServiceConsumer } from '../bookstore-service-context';\r\n\r\nconst withBookstoreService = () => (Wrapped) => {\r\n\r\n    return (props) => {\r\n\r\n        return (\r\n            <BookstoreServiceConsumer>\r\n                {\r\n                    (bookstoreService) => {\r\n                        return (<Wrapped {...props}\r\n                                    bookstoreService={bookstoreService} />)\r\n                    }\r\n                }\r\n            </BookstoreServiceConsumer>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withBookstoreService;","const compose = (...funcs) => (comp) => {\r\n    return funcs.reduceRight((prev, func) => func(prev), comp)\r\n}\r\n\r\nexport default compose;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport BookListItem from '../book-list-item';\r\nimport { withBookstoreService } from '../hoc';\r\nimport { booksLoaded } from '../../actions';\r\nimport { compose } from '../../utils';\r\n\r\nimport './book-list.css';\r\n\r\nclass BookList extends Component {\r\n\r\n    componentDidMount() {\r\n        // 1. receive data from service;\r\n        const { bookstoreService } = this.props;\r\n        const data = bookstoreService.getBooks();\r\n\r\n        // 2. dispatch action to store\r\n        this.props.booksLoaded(data);\r\n    }\r\n\r\n    render() {\r\n        const { books } = this.props;\r\n\r\n        return (\r\n            <ul className=\"book-list\">\r\n                {\r\n                    books.map(book => {\r\n                        return <li key={book.id}><BookListItem book={book} /></li>\r\n                    })\r\n                }\r\n            </ul>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        books: state.books\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    booksLoaded\r\n}\r\n\r\nexport default compose(\r\n    withBookstoreService(),\r\n    connect(mapStateToProps, mapDispatchToProps)\r\n)\r\n(BookList)","export const booksLoaded = (newBooks) => {\r\n\r\n    return {\r\n        type: 'BOOKS_LOADED',\r\n        payload: newBooks,\r\n    }\r\n}","import React from 'react';\r\n\r\nimport './shopping-cart-table.css';\r\n\r\nconst ShoppingCartTable = () => {\r\n\r\n    return (\r\n        <div className=\"shopping-cart-table\">\r\n            <h2>Your Order</h2>\r\n            <table className=\"table\">\r\n                <thead>\r\n                    <th>#</th>\r\n                    <th>Item</th>\r\n                    <th>Count</th>\r\n                    <th>Price</th>\r\n                    <th>Action</th>\r\n                </thead>\r\n                <tbody>\r\n                    <td>1</td>\r\n                    <td>Site Reliability Engineering</td>\r\n                    <td>2</td>\r\n                    <td>$40</td>\r\n                    <td>\r\n                        <button className=\"btn btn-outline-danger btn-sm float-right\">\r\n                            <i className=\"fa fa-trash-o\" />\r\n                        </button>\r\n                        <button className=\"btn btn-outline-success btn-sm float-right\">\r\n                            <i className=\"fa fa-plus-circle\" />\r\n                        </button>\r\n                        <button className=\"btn btn-outline-warning btn-sm float-right\">\r\n                            <i className=\"fa fa-minus-circle\" />\r\n                        </button>\r\n                    </td>\r\n                </tbody>\r\n            </table>\r\n\r\n            <div className=\"total\">\r\n                Total: $201\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ShoppingCartTable;","import React from 'react';\r\nimport BookList from '../book-list/book-list';\r\nimport ShoppingCartTable from '../shopping-cart-table/shopping-cart-table';\r\n\r\nconst HomePage = () => {\r\n\r\n    return (\r\n        <div>\r\n            <BookList />\r\n            <ShoppingCartTable />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default HomePage;","import React from 'react';\r\n\r\nconst CartPage = () => {\r\n    return <div>Cart Page</div>\r\n}\r\n\r\nexport default CartPage;","import App from './app';\r\n\r\nexport default App;","import React from 'react';\r\nimport ShopHeader from '../shop-header';\r\nimport { Route, Switch } from 'react-router-dom';\r\n\r\nimport { HomePage, CartPage } from '../pages';\r\n\r\nimport './app.css';\r\n\r\nconst App = () => {\r\n\r\n    return (\r\n        <main role=\"main\" className=\"container\">\r\n            <ShopHeader numItems={5} total={210} />\r\n            <Switch>\r\n                <Route path='/re-store/'\r\n                    component={HomePage}\r\n                    exact />\r\n                <Route path='/re-store/cart'\r\n                    component={CartPage} />\r\n            </Switch>\r\n        </main>\r\n      \r\n    )\r\n}\r\n\r\nexport default App;","import ErrorIndicator from './error-indicator';\r\n\r\nexport default ErrorIndicator;","import React from 'react';\r\n\r\nimport './error-indicator.css';\r\n\r\nconst ErrorIndicator = () => {\r\n    return <div>Error!</div>\r\n}\r\n\r\nexport default ErrorIndicator;","import ErrorBoundry from './error-boundry';\r\n\r\nexport default ErrorBoundry;","import React, { Component } from 'react';\r\n\r\nimport ErrorIndicator from '../error-indicator';\r\n\r\nexport default class ErrorBoundry extends Component {\r\n\r\n    state = {\r\n        hasError: false,\r\n    }\r\n\r\n    componentDidCatch() {\r\n        this.setState({hasError: true})\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.state.hasError) {\r\n            return <ErrorIndicator />\r\n        }\r\n\r\n        return this.props.children;\r\n    }\r\n}","export default class BookstoreService {\r\n\r\n    getBooks() {\r\n        return [\r\n            {\r\n                id: 1,\r\n                title: 'Prodaction-Ready Microservices',\r\n                author: 'Susan J. Fowler',\r\n                price: 32,\r\n                coverImage: 'https://images-na.ssl-images-amazon.com/images/I/41yJ75gpV-L._SX381_BO1,204,203,200_.jpg',\r\n            },\r\n            {\r\n                id: 2,\r\n                title: 'Release it!',\r\n                author: 'Michael T. Nygard',\r\n                price: 45,\r\n                coverImage: 'https://images-na.ssl-images-amazon.com/images/I/414CRjLjwgL._SX403_BO1,204,203,200_.jpg'\r\n            }\r\n        ]\r\n    }\r\n}","const initialState = {\r\n    books: [],\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n\r\n    switch(action.type) {\r\n        case 'BOOKS_LOADED':\r\n            return {\r\n                books: action.payload,\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default reducer;","import { createStore } from 'redux';\r\nimport reducer from './reducers';\r\n\r\nconst store = createStore(reducer);\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\n\r\nimport App from './components/app';\r\nimport ErrorBoundry from './components/error-boundry';\r\nimport { BookstoreServiceProvider } from './components/bookstore-service-context';\r\nimport { BookstoreService } from './services';\r\n\r\nimport store from './store';\r\n\r\nconst bookstoreService = new BookstoreService();\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <ErrorBoundry>\r\n            <BookstoreServiceProvider value={bookstoreService}>\r\n                <Router>\r\n                    <App />\r\n                </Router>\r\n            </BookstoreServiceProvider>\r\n        </ErrorBoundry>\r\n    </Provider>,\r\n    document.getElementById('root')\r\n)"],"sourceRoot":""}